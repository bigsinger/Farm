{"version":3,"sources":["file:///F:/bigsinger/Farm/FarmCreator372/assets/ts/brand.ts"],"names":["_decorator","Component","Node","Animation","UIOpacity","ccclass","property","Brand","type","self","onLoad","node","on","EventType","TOUCH_START","onTouchStart","event","uiOpacity","fireworks","getComponent","opacity","active","anim","FINISHED","state","play"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,S,OAAAA,S;;;;;;;;;OAC3C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;uBAGjBO,K,WADZF,OAAO,CAAC,OAAD,C,UAIHC,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEN;AAAR,OAAD,C,2BAJb,MACaK,KADb,SAC2BN,SAD3B,CACqC;AAAA;AAAA;AAAA,eACzBQ,IADyB,GACX,IADW;;AAAA;AAAA;;AAMjCC,QAAAA,MAAM,GAAG;AACL,eAAKD,IAAL,GAAY,IAAZ;AACA,eAAKE,IAAL,CAAUC,EAAV,CAAaV,IAAI,CAACW,SAAL,CAAeC,WAA5B,EAAyC,KAAKC,YAA9C,EAA4D,IAA5D;AACH;;AAEDA,QAAAA,YAAY,CAACC,KAAD,EAAe;AACvB,gBAAMC,SAAS,GAAG,KAAKC,SAAL,CAAeC,YAAf,CAA4Bf,SAA5B,CAAlB;;AACA,cAAIa,SAAJ,EAAe;AACXA,YAAAA,SAAS,CAACG,OAAV,GAAoB,GAApB;AACH;;AACD,eAAKF,SAAL,CAAeG,MAAf,GAAwB,IAAxB;AACA,gBAAMC,IAAgB,GAAG,KAAKJ,SAAL,CAAeC,YAAf,CAA4BhB,SAA5B,CAAzB;AACAmB,UAAAA,IAAI,CAACV,EAAL,CAAQT,SAAS,CAACU,SAAV,CAAoBU,QAA5B,EAAsC,MAAM;AACxC,iBAAKL,SAAL,CAAeG,MAAf,GAAwB,KAAxB;AACH,WAFD,EAEG,IAFH;AAIA,gBAAMG,KAAK,GAAGF,IAAI,CAACG,IAAL,CAAU,WAAV,CAAd;AACH;;AAvBgC,O;;;;;iBAIf,I","sourcesContent":["import { _decorator, Component, Node, Animation, UIOpacity, AnimationClip } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Brand')\r\nexport class Brand extends Component {\r\n    private self: Brand = null;\r\n\r\n    @property({ type: Node })\r\n    fireworks: Node = null;\r\n\r\n    onLoad() {\r\n        this.self = this;\r\n        this.node.on(Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n    }\r\n\r\n    onTouchStart(event: Event) {\r\n        const uiOpacity = this.fireworks.getComponent(UIOpacity);\r\n        if (uiOpacity) {\r\n            uiOpacity.opacity = 255;\r\n        }\r\n        this.fireworks.active = true;\r\n        const anim : Animation = this.fireworks.getComponent(Animation);\r\n        anim.on(Animation.EventType.FINISHED, () => {\r\n            this.fireworks.active = false;\r\n        }, this);\r\n\r\n        const state = anim.play('fireworks');\r\n    }\r\n}\r\n"]}