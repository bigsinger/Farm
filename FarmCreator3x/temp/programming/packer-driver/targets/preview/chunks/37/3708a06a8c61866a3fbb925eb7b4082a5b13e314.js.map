{"version":3,"sources":["file:///F:/bigsinger/Farm/FarmCreator372/assets/ts/Crop.ts"],"names":["_decorator","Node","Button","Sprite","Layers","ccclass","property","Crop","constructor","spriteFrame","mButton","mSprite","cellX","cellY","self","on","EventType","TOUCH_START","event","console","log","position","x","y","z","layer","Enum","UI_2D","addComponent","type","Type","SIMPLE","sizeMode","SizeMode","TRIMMED","active","transition","Transition","SCALE","setCellPosition"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,M,OAAAA,M;AAAkDC,MAAAA,M,OAAAA,M;;;;;;;;;OAC/E;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;sBAGjBO,I,WADZF,OAAO,CAAC,MAAD,C,gBAAR,MACaE,IADb,SAC0BN,IAD1B,CAC+B;AAO3BO,QAAAA,WAAW,CAACC,WAAD,EAA2B;AAClC;AADkC,eAN/BC,OAM+B;AAAA,eAL9BC,OAK8B;AAAA,eAH/BC,KAG+B;AAAA,eAF/BC,KAE+B;AAGlC,cAAIC,IAAI,GAAG,IAAX;AACAA,UAAAA,IAAI,CAACC,EAAL,CAAQd,IAAI,CAACe,SAAL,CAAeC,WAAvB,EAAoC,UAAUC,KAAV,EAAiB;AACjDC,YAAAA,OAAO,CAACC,GAAR,8BAAuCN,IAAI,CAACF,KAA5C,UAAsDE,IAAI,CAACD,KAA3D,kBAA6EC,IAAI,CAACO,QAAL,CAAcC,CAA3F,UAAiGR,IAAI,CAACO,QAAL,CAAcE,CAA/G,UAAqHT,IAAI,CAACO,QAAL,CAAcG,CAAnI;AACH,WAFD,EAJkC,CAQlC;AAEA;AACA;;AAGA,eAAKC,KAAL,GAAarB,MAAM,CAACsB,IAAP,CAAYC,KAAzB;AACAb,UAAAA,IAAI,CAACH,OAAL,GAAeG,IAAI,CAACc,YAAL,CAAkBzB,MAAlB,CAAf;AACAW,UAAAA,IAAI,CAACH,OAAL,CAAaF,WAAb,GAA2BA,WAA3B;AACAK,UAAAA,IAAI,CAACH,OAAL,CAAakB,IAAb,GAAoB1B,MAAM,CAAC2B,IAAP,CAAYC,MAAhC;AACAjB,UAAAA,IAAI,CAACH,OAAL,CAAaqB,QAAb,GAAwB7B,MAAM,CAAC8B,QAAP,CAAgBC,OAAxC;AACApB,UAAAA,IAAI,CAACqB,MAAL,GAAc,IAAd;AAEA,eAAKzB,OAAL,GAAe,KAAKkB,YAAL,CAAkB1B,MAAlB,CAAf;AACA,eAAKQ,OAAL,CAAa0B,UAAb,GAA0BlC,MAAM,CAACmC,UAAP,CAAkBC,KAA5C;AACH;;AAEMC,QAAAA,eAAe,CAACjB,CAAD,EAAWC,CAAX,EAAoB;AACtC,eAAKX,KAAL,GAAaU,CAAb;AACA,eAAKT,KAAL,GAAaU,CAAb;AACH;;AAnC0B,O","sourcesContent":["import { _decorator, Node, Button, Sprite, director, SpriteFrame, UITransform, Vec2, Layers } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Crop')\r\nexport class Crop extends Node {\r\n    public mButton: Button;\r\n    private mSprite: Sprite;\r\n\r\n    public cellX: number;\r\n    public cellY: number;\r\n\r\n    constructor(spriteFrame: SpriteFrame) {\r\n        super();\r\n\r\n        var self = this;\r\n        self.on(Node.EventType.TOUCH_START, function (event) {\r\n            console.log(`Crop TOUCH_START tile: (${self.cellX}, ${self.cellY}) ; xyz: (${self.position.x}, ${self.position.y}, ${self.position.z})`);\r\n        });\r\n\r\n        //director.getScene().addChild(this);\r\n\r\n        // 设置精灵节点的锚点为中下角\r\n        //this.addComponent(UITransform).setAnchorPoint(0.5, 0);\r\n\r\n\r\n        this.layer = Layers.Enum.UI_2D;\r\n        self.mSprite = self.addComponent(Sprite);\r\n        self.mSprite.spriteFrame = spriteFrame;\r\n        self.mSprite.type = Sprite.Type.SIMPLE;\r\n        self.mSprite.sizeMode = Sprite.SizeMode.TRIMMED;\r\n        self.active = true;\r\n\r\n        this.mButton = this.addComponent(Button);\r\n        this.mButton.transition = Button.Transition.SCALE;\r\n    }\r\n\r\n    public setCellPosition(x:number, y:number){\r\n        this.cellX = x;\r\n        this.cellY = y;\r\n    }\r\n}\r\n"]}